package com.spider.order;

import com.spider.order.dto.ServerRequestDTO;
import com.spider.order.service.ParserService;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import java.util.List;

@SpringBootTest
class OrderApplicationTests {
    @Autowired
    private ParserService parserService;

    @Test
    void test1() {
        // 구배민
        String hexadecimal = "1B401B2118202020202020202020202020202020B9E8B4DE20C1D6B9AEC0FCC7A520202020202020202020202020200A0D1B21001B2118C1D6B9AEB9F8C8A3204F59335420202020202020202020202020202020202020202020202020202020200A0D1B21001B2118B0E1C1A6B9E6BDC420C8C4BAD2C4ABB5E5202020202020202020202020202020202020202020202020200A0D1B21002D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D0A0DB9E8B4DEC1D6BCD23A0A0D1B2118BACEBBEA20BACEBBEAC1F8B1B820B0A1BEDFB5BF203436342D31303020BEF6B1A4B7CE20313832B9F8B1E6202032352D330A0D1B2100BACEBBEA20BACEBBEAC1F8B1B820BEF6B1A4B7CE313832B9F8B1E62032352D3320BEF6B1A4B7CE20313832B9F8B1E6202032352D330A0D0A0DBFACB6F4C3B33A0A0D1B21183031302D333433332D303330380A0D1B2100B0EDB0B4C1A4BAB8B8A620B9E8B4DEB8F1C0FB20BFDC20BBE7BFEBC7CFB0C5B3AA20BAB8B0FC2C20B0F8B0B3C7D220B0E6BFEC20B9FDC0FBC3B3B9FAC0BB20B9DEC0BB20BCF620C0D6BDC0B4CFB4D92E0A0D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D0A0DBFE4C3BBBBE7C7D73A2020202020202020202020202020202020202020202020202020202020202020200A0D1B2118B0A1B0D4203A20B4D9C0DAB3E0B8BE20C4DDB6F3312E3235B8AEC5CDC1D6BCBCBFE42EC8A4BDC320BCD2B1DD20B8BBB0ED20B1E2BABB20BEE7B3E4B5B520C1D6BDC3B3AABFE42028BCF6C0FAC6F7C5A92058290A0D1B21001B2118B9E8B4DE203A20BFACB6F4C1D6BCBCBFE40A0D1B21002D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D0A0DB8DEB4BAB8ED202020202020202020202020202020202020202020BCF6B7AE20202020202020B1DDBED70A0D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D0A0D1B2118BEF6C3BB20C5AB20C8C4B6F3C0CCB5E520C4A1C5B220202020202031202020202020202031372C3030300A0D1B21001B2118202B20BBC00A0D1B21001B2118B3EBB6FB20BAC0C5F520B0A8C0DA2020202020202020202020202031202020202020202020382C3030300A0D1B21001B2118B9E8B4DEC6C120202020202020202020202020202020202020202020202020202020202020322C3030300A0D1B21002D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D0A0D1B2118C7D5B0E828C8C4BAD2C4ABB5E5292020202020202020202020202020202020202020202032372C3030300A0D1B21002D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D0A0DC1D6B9AEB9F8C8A33A4231314430314F5933540A0D323032312E30392E30372031383A353020202020202020202020202020202020202020200A0D200A0D200A0D200A0D200A0D1B69";
        List<String> resultList = parserService.getSplit(hexadecimal);

        for (String result : resultList) {
            System.out.print(parserService.decode(result) + "\n");
        }

        ServerRequestDTO serverRequestDTO = parserService.parseBM(resultList);
        System.out.println(serverRequestDTO.toString());
    }

    @Test
    void test2() {
//        String order = Constant.order2;
//        List<String> orderList = Arrays.asList(order.split("\n"));
//        for(String line : orderList) {
//            if (line.indexOf(""))
//
//        }
//        ServerRequestDTO.builder()
//                .orderAppKind("");
    }

    @Test
    void test3() {
        String menu = "엄청 큰 후라이드 치킨      1        17,000";


//        System.out.println(menu.substring(0, 18).replace(" ", "x"));
//        // 메뉴 수량, 금액 파싱
//        String[] quantityAndPrice = menu.substring(18).split(" ");
//        System.out.println(quantityAndPrice[0].replace(" ", "x"));
//        System.out.println(quantityAndPrice[quantityAndPrice.length - 1].replace(" ", "x"));

        String[] menus = menu.split("  ");
        System.out.println(menus.length);
        // 메뉴 수량, 금액 파싱
        for (String s : menus) {

            System.out.println(s);
        }
//        String[] quantityAndPrice = menu.substring(18).split(" ");
//        System.out.println(quantityAndPrice[0].replace(" ", "x"));
//        System.out.println(quantityAndPrice[quantityAndPrice.length - 1].replace(" ", "x"));
    }
}
